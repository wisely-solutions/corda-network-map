# Corda NMS for Test

This implementation of the NMS API is only meant for testing. The main reason being it uses dev generated test certs,
as provided by the Corda libraries.

## Configuration

This service requires a json file listing all notaries.

```json
{
  "list": [{
    "nodeKeystoreLocation": "/keystores/notary.jks",
    "nodeKeystorePassword": "cordacadevpass",
    "validating": true
  }]
}
```

This must be jks corresponde to the nodekeystore.jks and only works if generated by the corda utility (`net.corda.nodeapi.internal.installDevNodeCaCertPath`),
which shares the same ROOT certificate authority used in this service.

Such configuration file location needs to be passed in by environment variable: `NOTARIES`

In a docker compose, you should be looking for something like:

```
  nms:
    image: wiselylda/corda-network-map:4.9
    container_name: nms
    restart: "no"
    volumes:
      - ./notary/certificates/nodekeystore.jks:/keystores/notary.jks
      - ./notaries.json:/config/notaries.json
    environment:
      NOTARIES: /config/notaries.json
    stop_signal: SIGKILL
```